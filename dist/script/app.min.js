"use strict";function GetAnimeData(){url="https://kitsu.io/api/edge/anime?filter[text]=",input=document.getElementById("search").value.toLowerCase(),1==manga&&(url="https://kitsu.io/api/edge/manga?filter[text]="),null!=input&&""!=input&&(url+=input,$.getJSON(url,function(t){for(var e=t.data,i=0;i<e.length;i++){if(titleRomaji=e[i].attributes.titles.en_jp,titleEnglish=e[i].attributes.titles.en,null!=titleRomaji){if(titleRomaji.toLowerCase()==input){SetAttributeData(e,i);break}TitleDoesNotExist()}if(null!=titleEnglish){if(titleEnglish.toLowerCase()==input){SetAttributeData(e,i);break}TitleDoesNotExist()}else TitleDoesNotExist()}1==titleExists?(CheckTitle(),CheckImage(),CheckSynopsis(),1==english?$("#animeTitle").html(propTitleEnglish):$("#animeTitle").html(propTitleRomaji),$("#animeSynopsis").html(propSynopsis),$("#animeImage").attr("src",propImageLarge)):TitleDoesNotExist()}))}function CheckTitle(){null==propTitleEnglish&&(propTitleEnglish="Not available"),null==propTitleRomaji&&(propTitleRomaji="Not available")}function CheckImage(){null==propImageLarge&&(propImageLarge="../dist/media/ImageNotFound.jpg")}function CheckSynopsis(t){null==propSynopsis&&(propSynopsis="Synopsis not available.")}function SetAttributeData(t,e){propTitleRomaji=t[e].attributes.titles.en_jp,propTitleEnglish=t[e].attributes.titles.en,propSynopsis=t[e].attributes.synopsis,propImageLarge=t[e].attributes.posterImage.large,document.getElementById("search").value="",titleExists=!0}function TitleDoesNotExist(){$("#animeTitle").html("Not available"),$("#animeSynopsis").html("Synopsis not available."),$("#animeImage").attr("src","../dist/media/ImageNotFound.jpg"),titleExists=!1}function SwitchMangaIsChanged(){manga=!!document.getElementById("switch_manga").checked}function SwitchEnglishIsChanged(){document.getElementById("switch_english").checked?(english=!0,1==titleExists&&null!=propTitleEnglish&&""!=propTitleEnglish&&$("#animeTitle").html(propTitleEnglish)):(english=!1,1==titleExists&&null!=propTitleRomaji&&""!=propTitleRomaji&&$("#animeTitle").html(propTitleRomaji))}var manga=!1,english=!1,input="",url="",titleEnglish="",titleRomaji="",propTitleRomaji="",propTitleEnglish="",propSynopsis="",propImageLarge="",titleExists=!0;document.addEventListener("DOMContentLoaded",function(){SwitchMangaIsChanged(),SwitchEnglishIsChanged()});var checkboxManga=document.querySelector("input[id=switch_manga]");checkboxManga.addEventListener("change",SwitchMangaIsChanged);var checkboxEnglish=document.querySelector("input[id=switch_english]");checkboxEnglish.addEventListener("change",SwitchEnglishIsChanged),document.getElementById("btnSearch").addEventListener("click",GetAnimeData),document.addEventListener("keypress",function(t){13==t.keyCode&&GetAnimeData()});